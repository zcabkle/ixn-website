<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Testing</title>
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <!-- Font Awesome icons (free version)-->
    <script src="https://use.fontawesome.com/releases/v5.15.4/js/all.js" crossorigin="anonymous"></script>
    <!-- Google fonts-->
    <link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet"
        type="text/css" />
    <link
        href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"
        rel="stylesheet" type="text/css" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="css/styles.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
    <style>
        h2 {
            text-align: center;
        }

        p {
            text-align: left;
        }

        .orange {
            color: #f59f2f;
        }

        .green {
            color: #13a100;
        }

        .blue {
            color: #0008ff;
        }

        .purple {
            color: #6a00ff;
        }

        .excellent{
            color:#0dbd00;
        }
    </style>
</head>

<body>
    <!-- Navigation-->
    <nav class="navbar navbar-expand-lg navbar-light" id="mainNav">
        <div class="container px-4 px-lg-5">
            <a class="navbar-brand" href="index.html">IXN Team 19</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive"
                aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                Menu
                <i class="fas fa-bars"></i>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ms-auto py-4 py-lg-0">
                    <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="index.html">Home</a></li>
                    <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="requirements.html">Requirements</a></li>
                    <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="research.html">Research</a></li>
                    <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="ui-design.html">UI Design</a></li>
                    <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="system-design.html">System Design</a></li>
                    <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="implementation.html">Implementation</a></li>
                    <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="deployment.html">Deployment</a></li>
                    <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="testing.html">Testing</a></li>
                    <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="evaluation.html">Evaluation</a></li>
                    <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="appendix.html">Appendix</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- Page Header-->
    <header class="masthead" style="background-image: url('assets/img/gradient.png')">
        <div class="container position-relative px-4 px-lg-5">
            <div class="row gx-4 gx-lg-5 justify-content-center">
                <div class="col-md-10 col-lg-8 col-xl-7">
                    <div class="page-heading">
                        <h1>Testing</h1>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!-- Main Content-->
    <main class="mb-4">
        <!-- Start of Testing Strategy section -->
        <section class="Testing Strategy">
            <div class="container px-4 px-lg-5">
                <div class="row justify-content-center">
                    <div class="col-lg-10 text-center" id='background-text'>
                        <h1 class="section-title text-gradient header-underline">Testing Strategy</h1>
                        <p>
                            As this proof-of-concept is a client side application, it was nessecary to perform thorough automated
                            testing on it to ensure it acts as we would like and the functionality meets the requirements that were agreed upon in
                            out MoSCoW list. We extentensively covered our code, reaching a code coverage of <span class="excellent"><strong>97%</strong></span>.<br><br>

                            We also conducted user acceptance tests to find potential improvements and general feedback.
                        </p>
                    </div>
                </div>
            </div>
        </section>
        <!-- End of Testing Strategy section -->

        <!-- Start of unit and integration testing section -->
        <section class="unit and integration testing">
            <div class="container px-4 px-lg-5">
                <div class="row justify-content-center">
                    <div class="col-lg-10 text-center" id='background-text'>
                        <h1 class="section-title text-gradient header-underline">Automated Testing</h1>
                        <p>
                            For all automated testing, both unit tests and integration tests, we used the Django
                            "TestCase" module. This module inherits from the commonly used "unittest" module. For the
                            integration tests we used the Client class from the Django testing tools. This class allowed
                            us to
                            generate HTTP requests and from this we could ensure that the views and templates integrate
                            correctly.<br><br>

                            We created a class called "Builder" for automated tests. This class defines the setUp and
                            tearDown functions. In these functions a database is created and populated with data also a
                            user is created and logged in. This makes the test results predictable. Once the test has
                            been done on the database, it's contents are deleted.<br><br>

                            The Python "coverage" module was used to conduct analysis of the code coverage of these
                            tests. This helped us to conclude whether we had sufficiently tested the code.<br><br>
                        </p>
                        <h2 class="section-title text-gradient">Unit Testing</h2> <br>
                        <p> We used unit-testing to test functionality of individual functions and classes such as the
                            functions that clean the form's input data.
                            With unit-tests we verified whether the functions in the models and the
                            form validation operated as we expected.
                        </p>
                        <pre class="text-left"><code class="language-python">
                            <span class="orange">def</span> <span class="blue">test_clean_appointment_clash</span>(self):
                                data = {
                                    <span class="green">'PAS_number'</span>: 1234,
                                    <span class="green">'appointment_status'</span>: self.AppointmentCancelled.pk,
                                    <span class="green">'appointment_date'</span>: <span class="green">'2022-01-01'</span>,
                                    <span class="green">'appointment_start_time'</span>: <span class="green">'10:00:00'</span>,
                                    <span class="green">'appointment_code'</span>: self.N01.pk,
                                    <span class="green">'team_member'</span>: self.user_1.pk,
                                    <span class="green">'appointment_information'</span>: <span class="green">''</span>,
                                    <span class="green">'changes_to_be_confirmed_on_pas'</span>: <span class="green">''</span>
                                }
                                form = AppointmentForm(data)
                                self.assertFalse(form.is_valid())
                        </code></pre>

                        <p> In the above code snippet is an example of a unit-test on a form. In this case we test
                            whether the form accepts an appointment that currently clashes with another, this is
                            something that we don't want to happen. In this case it clashes with the only other
                            appointment in the database.
                            The data gets passed to the form and then we assert that the form is not valid. This test
                            returns False which is what we would expect. </p>

                        <h2 class="section-title text-gradient">Integration Testing</h2>
                        <p> We used intergration testing to test whether different parts of the code integrate correctly
                            and produce the expected output with a given input.
                            With our integration tests we verified whether views and templates integrated correctly.
                            We used client to make a request then we checked things such as: <br>
                            • Whether we get redirected.<br>
                            • Where we redirect to.<br>
                            • What the status code is.<br>
                            • If we actually added/deleted from the database.<br>
                            • What was passed to the template.<br>
                            • Which template was rendered.<br><br>

                            Integration tests were the main bulk of our automated testing.

                        </p>

                        <pre class="text-left"><code class="language-python">
                            <span class="orange">def</span> <span class="blue">test_post_add_patient_valid</span>(self):
                                data = {
                                    <span class="green">'PAS_number'</span>: 12345,
                                    <span class="green">'first_name'</span>: <span class="green">'ab'</span>,
                                    <span class="green">'middle_name'</span>: <span class="green">'abc'</span>,
                                    <span class="green">'surname'</span>: <span class="green">'abc'</span>,
                                    <span class="green">'DOB'</span>: <span class="green">'2001-10-11'</span>,
                                    <span class="green">'priority_code'</span>: self.Priority1.pk,
                                    <span class="green">'patient_status'</span>: self.PatientCancelled.pk,
                                    <span class="green">'patient_information'</span>: <span class="green">''</span>
                                    }
                                response = self.client.post(<span class="green">'/add_patient/'</span>, data=data, follow=True)
                                self.assertEqual(response.status_code, 200)
                                self.assertTemplateUsed(response, <span class="green">'website/wait_list.html'</span>)
                                self.assertTrue(Patient.objects.filter(PAS_number=12345).exists())
                                self.assertEqual(<span class='purple'>len</span>(Patient.objects.all()), 2)
                        </code></pre>

                        <p>In the above code snippet we submit a valid form to add a patient. We test the status code,
                            template used and whether the patient was successfully added to the database. This test
                            passes and provides the output and behaviour that we expect.</p>

                        <p> The unit-tests and integration tests all exist together in the tests folder. Through the use
                            of integration tests and unit-tests we measured a code coverage of
                            <span class="excellent"><strong>97%</strong></span> which can be seen in the report below. After this analysis of our testing practices, we believe that we have
                            covered a sufficient amount of our code and the code operates as we would expect. We can
                            also conclude that the functionality that we implemented has been implemented correctly. We
                            know this because all of the automated tests which test this functionality generate passes.
                        </p>
                        <img class="card-img-top " src="assets/img/coverage-report.png" alt="Card image cap">

                    </div>
                </div>
            </div>
        </section>
        <!-- End of unit and integration testing section -->

        <!-- Start of unit and integration testing section -->
        <section class="user acceptance testing">
            <div class="container px-4 px-lg-5">
                <div class="row justify-content-center">
                    <div class="col-lg-10 text-center" id='background-text'>
                        <h1 class="section-title text-gradient header-underline">User Acceptance Testing</h1> <br>
                        <p> We conducted user acceptance tests. We gave the user a task, these tasks are listed under
                            the Test Cases below. After completing the task we asked the user to rate how difficult they
                            found the task and to provide any feedback if they had any to give.</p>
                        <h2 class="section-title text-gradient">Simulated Testers</h2> <br>
                        <div class="container-fluid">
                            <div class="row">
                                <div class="col">
                                    <div class="card" style="width: 16rem;">
                                        <img class="card-img-top" src="assets/img/unknown.png" alt="Card image cap">
                                        <div class="card-body">
                                            <h3>Alice</h3>
                                        <p class="card-text">Alice is a middle-aged team manager at a logistics company who uses computers on a daily
                                            basis.<br><br>
                                            This user represents an average person who hasn't recieved much formal training with any software.</p>
                                        </div>
                                    </div>
                                
                                </div>
                                <div class="col">
                                    <div class="card" style="width: 16rem;">
                                        <img class="card-img-top" src="assets/img/unknown.png" alt="Card image cap">
                                        <div class="card-body">
                                            <h3>Bob</h3>
                                        <p class="card-text">Bob is a senior ocularist at Moorfields Eye Hospital.<br><br>
                                            This user represents someone who is
                                            highly specialised and knows what added features would be beneficial to other ocularists
                                            using the system.</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="card" style="width: 16rem;">
                                        <img class="card-img-top" src="assets/img/unknown.png" alt="Card image cap">
                                        <div class="card-body">
                                            <h3>Charlie</h3>
                                        <p class="card-text">Charlie is an Electronic and Electrical Engineering student at UCL who is adept with using
                                            technology.<br><br>
                                            This user represents a person who is proficient with computers and quick to learn new
                                            computer skills.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <p> *Real names of the testers have not been used to preserve confidentiality.</p>
                        <h2 class="section-title text-gradient">Test Cases</h2> <br>
                        <p> 1. Go to the hosted server and login as an ocularist.<br>
                            2. Create an appointment for today and view it on 'My Rota' page.<br>
                            3. View your weekly rota.<br>
                            4. Update a patient of your choosing on the database.<br>
                            5. View only ocularist 2's rota and ocularist 3's rota for today.<br>
                            6. Search appointment by appointment ID, find appointment 2351.</p>

                        <h2 class="section-title text-gradient">Feedback</h2> <br>
                        <img class="card-img-top " src="assets/img/ua_test.png" alt="Card image cap">

                    </div>
                </div>
            </div>
        </section>
        <!-- End of user acceptance testing section -->

    </main>
    <!-- Footer-->
    <footer class="border-top">
        <div class="container px-4 px-lg-5">
            <div class="row gx-4 gx-lg-5 justify-content-center">
                <div class="col-md-10 col-lg-8 col-xl-7">
                    <ul class="list-inline text-center">
                        <li class="list-inline-item">
                            <a href="https://twitter.com/uclcs?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor">
                                <span class="fa-stack fa-lg">
                                    <i class="fas fa-circle fa-stack-2x"></i>
                                    <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                        <li class="list-inline-item">
                            <a href="https://www.facebook.com/UCLCS.Home/">
                                <span class="fa-stack fa-lg">
                                    <i class="fas fa-circle fa-stack-2x"></i>
                                    <i class="fab fa-facebook-f fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                        <li class="list-inline-item">
                            <a href="https://github.com/ArslanAftab/ucl-ixn-team19">
                                <span class="fa-stack fa-lg">
                                    <i class="fas fa-circle fa-stack-2x"></i>
                                    <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    </ul>
                    <div class="small text-center text-muted fst-italic">
                        <p>Copyright © 2021 - 2022
                            <a href="!#">Moorfields Hospital</a>
                            ,
                            <a href="!#">Arslan Aftab</a>
                            ,
                            <a href="!#">Yue He</a>
                            ,
                            <a href="https://www.linkedin.com/in/kamil-ebanks/">Kamil Ebanks</a>
                            - All rights reserved.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Core theme JS-->
    <script src="js/scripts.js"></script>
</body>

</html>